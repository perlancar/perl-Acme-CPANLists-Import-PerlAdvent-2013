<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Language" content="en" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="WWW::AdventCalendar v1.109" />
    <link rel="alternate" title="Perl Advent Calendar 2013 XML feed" href="atom.xml" type="application/atom+xml" />
    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="stylesheet" href="style.css" type="text/css" />
    <link rel="stylesheet" href="2013.css" type="text/css" />
    <title>
Perl Advent Calendar 2013 - 
Find My Santa

</title>
</head>
<body>
    <div id="contentwrapper">
        <div id="header">
            <h1><a href="index.html">Perl Advent Calendar 2013</a></h1>
        </div>

        <p id="tagline">twenty four merry days of Perl
          <a class='feed' href="atom.xml">Feed</a>
        </p>

        <div id="content">
          

<h1 class='title'>Find My Santa</h1>
<div class='subtitle'>WebService::FindMyiPhone - 2013-12-06</div>

<div class='pod'><p>From the look on the young elf&#39;s face running towords him, the Wise Old Elf knew something had gone terribly terribly wrong.</p>

<p>&quot;It&#39;s our worse nightmare, Sir&quot; Private Jingle McCandySticks reported. &quot;We just found a letter for Santa down the back of the Sofa in the mailroom, Sir!&quot;.</p>

<p>This was bad news indeed. Santa had already set off on his annual round the world present giving extravaganza, and if no-one had read that letter yet, someone was going to have an empty stocking come Christmas morning.</p>

<p>&quot;That&#39;s okay CandySticks&quot;, the wise old elf reassured the Private, taking the letter as he did so. &quot;Santa has his iPhone on him, it&#39;s freshly charged, so one phone call and we&#39;ll be sure that ... let&#39;s see here ... little Jos&eacute; Castro will get the ninja costume he always wanted.&quot;</p>

<p>&quot;But that&#39;s just it, Sir. Ever since Lieutenant Pudding Von Snowflake accidentally dialed Santa&#39;s cell phone instead of the Pizza place his phone is on strict Do Not Disturb. It won&#39;t even ring for Mrs. Claus, Sir!&quot;</p>

<p>&quot;Ah yes,&quot; sighed the Wise Old Elf, &quot;well we can&#39;t blame him about that. Not after his Rockin&#39; Around The Christmas Tree ringtone woke up those Rottweilers. Still, don&#39;t worry, I think I can solve this with a little Perl script...&quot;</p>



<table class='code-listing'><tr><td class='line-numbers'><br /><code>1:&nbsp;<br />2:&nbsp;<br />3:&nbsp;<br />4:&nbsp;<br />5:&nbsp;<br />6:&nbsp;<br />7:&nbsp;<br />8:&nbsp;<br />9:&nbsp;<br />10:&nbsp;<br />11:&nbsp;<br />12:&nbsp;<br />13:&nbsp;<br />14:&nbsp;<br />15:&nbsp;<br />16:&nbsp;<br />17:&nbsp;<br />18:&nbsp;<br />19:&nbsp;<br />20:&nbsp;<br />21:&nbsp;<br />22:&nbsp;</code><br />&nbsp;</td><td class='code'><br /><code><span class="comment"># access Santa's Where's My iPhone account with his iCloud credentials<br /># and get access to his iPhone's details<br /></span><span class="keyword">use</span> <span class="word">WebService::FindMyiPhone</span><span class="structure">;</span><br /><span class="keyword">my</span> <span class="symbol">$icloud</span> <span class="operator">=</span> <span class="word">WebService::FindMyiPhone</span><span class="operator">-&gt;</span><span class="word">new</span><span class="structure">(</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">username</span> <span class="operator">=&gt;</span> <span class="single">'kriskringle@icloud.com'</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">password</span> <span class="operator">=&gt;</span> <span class="single">'RudyGuideMySleigh2Nite!'</span><span class="operator">,</span><br /><span class="structure">);</span><br /><span class="keyword">my</span> <span class="symbol">$iphone</span> <span class="operator">=</span> <span class="symbol">$icloud</span><span class="operator">-&gt;</span><span class="word">get_device_by</span><span class="structure">(</span> <span class="word">name</span> <span class="operator">=&gt;</span> <span class="double">&quot;Santa's iPhone&quot;</span> <span class="structure">);</span><br /><br /><span class="comment"># wait for Santa to fly west out of Portugal towards the Americas, so we know<br /># that he's in the air and when we make his phone make noise, and it won't<br /># wake anyone up<br /></span><span class="keyword">while</span> <span class="structure">(</span><span class="number">1</span><span class="structure">)</span> <span class="structure">{</span><br />&nbsp;&nbsp;<span class="word">last</span> <span class="word">if</span> <span class="symbol">$iphone</span><span class="operator">-&gt;</span><span class="word">location</span><span class="operator">-&gt;</span><span class="structure">{</span><span class="word">longitude</span><span class="structure">}</span> <span class="operator">&lt;</span> <span class="float">-9.6</span><span class="structure">;</span><br />&nbsp;&nbsp;<span class="word">sleep</span> <span class="number">60</span> <span class="operator">*</span> <span class="number">5</span><span class="structure">;</span><br /><span class="structure">}</span><br /><br /><span class="comment"># make his phone bleep until he acknowledges the emergency message<br /></span><span class="symbol">$iphone</span><span class="operator">-&gt;</span><span class="word">send_message</span><span class="structure">(</span><br />&nbsp;&nbsp;<span class="number">1</span><span class="operator">,</span>  <span class="comment"># true = make noise</span><br />&nbsp;&nbsp;<span class="double">&quot;Go back, J.Casto (#F8034672F5DC4E4B965A7F0C1D0FD2AC) needs Ninja Costume&quot;</span><span class="operator">,</span><br /><span class="structure">);</span></code><br />&nbsp;</td></table>

<h2 id="See-Also">See Also</h2>

<ul>

<li><p><a href="https://metacpan.org/module/WebService::FindMyiPhone">WebService::FindMyiPhone</a></p>

</li>
</ul>

</div>

<div id='author'>
<img alt='Gravatar Image' style='vertical-align:middle' src=http://www.gravatar.com/avatar/5d71b5f0c61e97cd452d625cc24a4c82?r=g&s=80&d=retro />
This article contributed by: Mark Fowler &lt;mark@twoshortplanks.com&gt;
</div>


<ul id="pager">
    <li class="previous"><a title="Playing it safe with Safe::Isa" href="2013-12-05.html">Previous</a></li>

    <li class="next"><a title="Web done better!" href="2013-12-07.html">Next</a></li>
</ul>
<div style="clear: both"></div>

        </div>
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-27056407-1");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</html>



